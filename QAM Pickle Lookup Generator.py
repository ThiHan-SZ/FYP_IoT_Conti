import pickle
import numpy as np
import matplotlib.pyplot as plt

QAM16 = {f'{i:04b}' : {'I':0,'Q':0} for i in range(16)}
QAM16['0000']['I'] = -3
QAM16['0000']['Q'] = -3
QAM16['0001']['I'] = -3
QAM16['0001']['Q'] = -1
QAM16['0010']['I'] = -3
QAM16['0010']['Q'] = 3 
QAM16['0011']['I'] = -3
QAM16['0011']['Q'] = 1 
QAM16['0100']['I'] = -1
QAM16['0100']['Q'] = -3
QAM16['0101']['I'] = -1
QAM16['0101']['Q'] = -1
QAM16['0110']['I'] = -1
QAM16['0110']['Q'] = 3 
QAM16['0111']['I'] = -1
QAM16['0111']['Q'] = 1 
QAM16['1000']['I'] = 3 
QAM16['1000']['Q'] = -3
QAM16['1001']['I'] = 3 
QAM16['1001']['Q'] = -1
QAM16['1010']['I'] = 3 
QAM16['1010']['Q'] = 3 
QAM16['1011']['I'] = 3 
QAM16['1011']['Q'] = 1 
QAM16['1100']['I'] = 1 
QAM16['1100']['Q'] = -3
QAM16['1101']['I'] = 1 
QAM16['1101']['Q'] = -1
QAM16['1110']['I'] = 1 
QAM16['1110']['Q'] = 3 
QAM16['1111']['I'] = 1 
QAM16['1111']['Q'] = 1 

with open('QAM16.pkl', 'wb') as f:
    pickle.dump(QAM16, f)

with open('QAM16.pkl', 'rb') as f:
    QAM16_r = pickle.load(f)

fig = plt.figure()
ax = fig.add_subplot(111)
Q = np.array([i[1]['Q'] for i in QAM16_r.items()])
I = np.array([i[1]['I'] for i in QAM16_r.items()])

for i, txt in enumerate(QAM16_r):
    ax.annotate(txt, (I[i], Q[i]))

plt.scatter(I, Q)
plt.show()

for i in QAM16_r.items():
    print(i)

QAM64 = {f'{i:06b}' : {'I':0,'Q':0} for i in range(64)}
QAM64['000000']['I'] = -7
QAM64['000000']['Q'] = -7
QAM64['000001']['I'] = -7
QAM64['000001']['Q'] = -5
QAM64['000010']['I'] = -7
QAM64['000010']['Q'] = -1
QAM64['000011']['I'] = -7
QAM64['000011']['Q'] = -3
QAM64['000100']['I'] = -7
QAM64['000100']['Q'] = 7 
QAM64['000101']['I'] = -7
QAM64['000101']['Q'] = 5 
QAM64['000110']['I'] = -7
QAM64['000110']['Q'] = 1 
QAM64['000111']['I'] = -7
QAM64['000111']['Q'] = 3 
QAM64['001000']['I'] = -7
QAM64['001000']['Q'] = -5
QAM64['001001']['I'] = -5
QAM64['001001']['Q'] = -5
QAM64['001010']['I'] = -5
QAM64['001010']['Q'] = -1
QAM64['001011']['I'] = -5
QAM64['001011']['Q'] = -3
QAM64['001100']['I'] = -5
QAM64['001100']['Q'] = 7 
QAM64['001101']['I'] = -5
QAM64['001101']['Q'] = 5
QAM64['001110']['I'] = -5
QAM64['001110']['Q'] = 1 
QAM64['001111']['I'] = -5
QAM64['001111']['Q'] = 3 
QAM64['010000']['I'] = -1
QAM64['010000']['Q'] = -7
QAM64['010001']['I'] = -1
QAM64['010001']['Q'] = -5
QAM64['010010']['I'] = -1
QAM64['010010']['Q'] = -1
QAM64['010011']['I'] = -1
QAM64['010011']['Q'] = -3
QAM64['010100']['I'] = -1
QAM64['010100']['Q'] = 7 
QAM64['010101']['I'] = -1
QAM64['010101']['Q'] = 5 
QAM64['010110']['I'] = -1
QAM64['010110']['Q'] = 1 
QAM64['010111']['I'] = -1
QAM64['010111']['Q'] = 3 
QAM64['011000']['I'] = -3
QAM64['011000']['Q'] = -7
QAM64['011001']['I'] = -3
QAM64['011001']['Q'] = -5
QAM64['011010']['I'] = -3
QAM64['011010']['Q'] = -1
QAM64['011011']['I'] = -3
QAM64['011011']['Q'] = -3
QAM64['011100']['I'] = -3
QAM64['011100']['Q'] = 7 
QAM64['011101']['I'] = -3
QAM64['011101']['Q'] = 5 
QAM64['011110']['I'] = -3
QAM64['011110']['Q'] = 1 
QAM64['011111']['I'] = -3
QAM64['011111']['Q'] = 3 
QAM64['100000']['I'] = 7 
QAM64['100000']['Q'] = -7
QAM64['100001']['I'] = 7 
QAM64['100001']['Q'] = -5
QAM64['100010']['I'] = 7 
QAM64['100010']['Q'] = -1
QAM64['100011']['I'] = 7 
QAM64['100011']['Q'] = -3
QAM64['100100']['I'] = 7 
QAM64['100100']['Q'] = 7 
QAM64['100101']['I'] = 7 
QAM64['100101']['Q'] = 5 
QAM64['100110']['I'] = 7 
QAM64['100110']['Q'] = 1 
QAM64['100111']['I'] = 7 
QAM64['100111']['Q'] = 3 
QAM64['101000']['I'] = 5 
QAM64['101000']['Q'] = -7
QAM64['101001']['I'] = 5 
QAM64['101001']['Q'] = -5
QAM64['101010']['I'] = 5 
QAM64['101010']['Q'] = -1
QAM64['101011']['I'] = 5 
QAM64['101011']['Q'] = -3
QAM64['101100']['I'] = 5 
QAM64['101100']['Q'] = 7 
QAM64['101101']['I'] = 5 
QAM64['101101']['Q'] = 5 
QAM64['101110']['I'] = 5 
QAM64['101110']['Q'] = 1 
QAM64['101111']['I'] = 5 
QAM64['101111']['Q'] = 3 
QAM64['110000']['I'] = 1 
QAM64['110000']['Q'] = -7
QAM64['110001']['I'] = 1 
QAM64['110001']['Q'] = -5
QAM64['110010']['I'] = 1 
QAM64['110010']['Q'] = -1
QAM64['110011']['I'] = 1 
QAM64['110011']['Q'] = -3
QAM64['110100']['I'] = 1 
QAM64['110100']['Q'] = 7 
QAM64['110101']['I'] = 1 
QAM64['110101']['Q'] = 5 
QAM64['110110']['I'] = 1 
QAM64['110110']['Q'] = 1 
QAM64['110111']['I'] = 1 
QAM64['110111']['Q'] = 3 
QAM64['111000']['I'] = 3 
QAM64['111000']['Q'] = -7
QAM64['111001']['I'] = 3 
QAM64['111001']['Q'] = -5
QAM64['111010']['I'] = 3 
QAM64['111010']['Q'] = -1
QAM64['111011']['I'] = 3 
QAM64['111011']['Q'] = -3
QAM64['111100']['I'] = 3 
QAM64['111100']['Q'] = 7 
QAM64['111101']['I'] = 3 
QAM64['111101']['Q'] = 5 
QAM64['111110']['I'] = 3 
QAM64['111110']['Q'] = 1 
QAM64['111111']['I'] = 3 
QAM64['111111']['Q'] = 3 

with open('QAM64.pkl', 'wb') as f:
    pickle.dump(QAM64, f)

with open('QAM64.pkl', 'rb') as f:
    QAM64_r = pickle.load(f)

for i in QAM64_r.items():
    print(i)

QAM256 = {f'{i:08b}' : {'I':0,'Q':0} for i in range(256)}
QAM256['00000000']['I'] = 15
QAM256['00000000']['Q'] = 15
QAM256['00000001']['I'] = 15
QAM256['00000001']['Q'] = 13
QAM256['00000010']['I'] = 15
QAM256['00000010']['Q'] = 9
QAM256['00000011']['I'] = 15
QAM256['00000011']['Q'] = 11
QAM256['00000100']['I'] = 15
QAM256['00000100']['Q'] = 1
QAM256['00000101']['I'] = 15
QAM256['00000101']['Q'] = 3
QAM256['00000110']['I'] = 15
QAM256['00000110']['Q'] = 7
QAM256['00000111']['I'] = 15
QAM256['00000111']['Q'] = 5
QAM256['00001000']['I'] = 15
QAM256['00001000']['Q'] = -15
QAM256['00001001']['I'] = 15
QAM256['00001001']['Q'] = -13
QAM256['00001010']['I'] = 15
QAM256['00001010']['Q'] = -9
QAM256['00001011']['I'] = 15
QAM256['00001011']['Q'] = -11
QAM256['00001100']['I'] = 15
QAM256['00001100']['Q'] = -1
QAM256['00001101']['I'] = 15
QAM256['00001101']['Q'] = -3
QAM256['00001110']['I'] = 15
QAM256['00001110']['Q'] = -7
QAM256['00001111']['I'] = 15
QAM256['00001111']['Q'] = -5

